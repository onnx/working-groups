**Objective of the meeting**
- Establish a technical link between the work on test definition and generation done by Christian using Hypothesis and the work of SONNX.

**Minutes**  
-  Brief presentation of the work of SONNX. The full slide deck can be found [here](https://github.com/ericjenn/working-groups/blob/ericjenn-srpwg-wg1/safety-related-profile/meetings/Other_meetings/SONNX%20-%20WG114.pdf)
- Brief presentation of the [Hypothesis](https://hypothesis.readthedocs.io/en/latest/reference/strategies.html) test framework and its use to generate test for ONNX ops. Christian work is available [here](https://github.com/cbourjau/onnx-tests). The list of operators already covered is [there](https://github.com/cbourjau/onnx-tests/blob/main/report/coverage.md).  
-  Basically, Hypothesis allows to describe conditions on the inputs of a function and generate automatically (more or less randomly) inputs compliant with these conditions. This facilitate the generation of large test sets, even though it does not provide any coverage "guarantee" with respect to some set of equivalence classes (themselves defined with respect to some test objective). 
- The first tests carried out by Christian show that there are still errors in ONNX runtime. Most of the errors activated by those tests actually concern non implemented functions (with respect to types), or boundary values corresponding to very unlikely situations (dimensions equal to 0).
- ORT comes with a bunch of tests, but they are hand crafted, which means the coverage is currently not satisfying completely .
- We agreed that there is a strong relation between the specification developed in SONNX, since this specification defines the domain of the operators (so-called "constraints" in the SONNX spec).
-  The Hypothesis constraints (or part of them) could be generated from the formal specification.

[ ] (SONNX) Try to do the exercise on the Conv2D operator for which we both have the formal specification and the Hypothesis tests. The same could be done for CONCAT (see next action).  
[ ] (Christian) Provide an Hypothesis definition of test cases for the CONCAT operator.

- The reference implementation to be developed in SONNX could be used as a possible oracle for Hypothesis tests.
- Note that during the development of the SONNX profile, the tests could also be used to detect errors  the specification: a test that does not pass (i.e., there is a discrepancy between our reference implementation and, let's say, the ORT) may reflect either an error in the spec or in the implementation. It will be up to the analysis to identify the root cause of the discrepancy.
- Eric mentioned that the [DeepGreen](https://deepgreen.ai/en) project, which is developing the [AIDGE](https://gitlab.eclipse.org/eclipse/aidge/aidge) platform, is also developing tests cases. There may be an opportunity to share some of the work.
- We have had a discussion about the generation of tests for a complete graph using Hypothesis. In that case, the difficulty is to define the ODD using Hypothesis. More often than not the ODD is actually defined by a representative set of samples. For high-dimensional inputs, defining conditions on the inputs is usually very difficult (not impossible depending on the application).
- Discussion about the demonstration of semantic equivalence in the presence of graph transformation. Inspiration could be obtained from what is done on compilers (e.g., LLVM).

[ ]  Eric to provide contact to the [DeepGreen](https://deepgreen.ai/en) project   

[ ] Eric to provide pointers to te SONNX documentation  
=>  
- The repository is [here](https://github.com/ericjenn/working-groups/tree/ericjenn-srpwg-wg1/safety-related-profile) (this is Eric's repo ; the ONNX repo is not up to date).
- You will find [there](https://github.com/ericjenn/working-groups/blob/ericjenn-srpwg-wg1/safety-related-profile/meetings/minutes.md) the minutes of all our meetings. 
- The set of operators is [here](http://safety-related-profile/documents/profile_opset). /!\ This is a work in progress /!\
- Note that [conv](https://github.com/ericjenn/working-groups/blob/ericjenn-srpwg-wg1/safety-related-profile/documents/profile_opset/conv/conv.md) and [concat](https://github.com/ericjenn/working-groups/blob/ericjenn-srpwg-wg1/safety-related-profile/documents/profile_opset/concat/concat.md) are the most up to date specifications. 
- All the operators should comply with a certain set of [guidelines](https://github.com/ericjenn/working-groups/blob/ericjenn-srpwg-wg1/safety-related-profile/documents/profile_opset/guidelines.md).
- The formal specifications are [here](https://github.com/ericjenn/working-groups/blob/ericjenn-srpwg-wg1/safety-related-profile/documents/profile_opset/conv/why3/standard_convolution.mlw) for conv and [there](https://github.com/ericjenn/working-groups/blob/ericjenn-srpwg-wg1/safety-related-profile/documents/profile_opset/conv/why3/standard_convolution.mlw) for concat. They are expressed using the WhyMl language.
- There is more material, about the semantics of the [graph](https://github.com/ericjenn/working-groups/blob/ericjenn-srpwg-wg1/safety-related-profile/documents/profile_graph/graph.md) execution, about [error conditions](https://github.com/ericjenn/working-groups/tree/ericjenn-srpwg-wg1/safety-related-profile/meetings/errror%20conditions), about [numerical accuracy](https://github.com/ericjenn/working-groups/tree/ericjenn-srpwg-wg1/safety-related-profile/meetings/numerical%20accuracy), etc.
